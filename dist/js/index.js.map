{"version":3,"sources":["../../src/js/index.js"],"names":["fl","Forklift","config","Map","map","initMap","packages","canvas","ctx","spritesheet","spritesheetLoaded","init","document","getElementById","width","getFullWidth","height","getFullHeight","getContext","Image","src","onload","loaded","drawMap","spawnPackage","spawnForklift","fillRect","sprite","x","getTileWidth","y","getTileHeight","drawImage","getWidth","getHeight","count","Math","floor","random","redraw","console","log"],"mappings":"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","file":"index.js","sourcesContent":["//SI2018\r\n\r\nimport Forklift from '../models/forklift.js';\r\nimport Map from '../models/map.js';\r\nimport Package from '../models/package.js';\r\n\r\nlet fl = new Forklift(5);\r\nlet config = new Map(32,32,16,16);\r\nlet map = config.initMap();\r\n\r\nlet packages = [];\r\n\r\nvar canvas = null;\r\nvar ctx = null;\r\nvar spritesheet = null;\r\n\r\nvar spritesheetLoaded = false;\r\n\r\nfunction init(){\r\n    canvas = document.getElementById('grid');\r\n\r\n    canvas.width = config.getFullWidth();\r\n    canvas.height = config.getFullHeight();\r\n\r\n    ctx = canvas.getContext(\"2d\");\r\n\r\n    spritesheet = new Image();\r\n    spritesheet.src = './src/img/sprites.png';\r\n    spritesheet.onload = loaded;\r\n}\r\n\r\nfunction loaded()\r\n{\r\n    spritesheetLoaded = true;\r\n    drawMap();\r\n    spawnPackage(5);\r\n    spawnForklift();\r\n    \r\n}\r\n\r\nfunction drawMap(){\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    let sprite = 1;\r\n    \r\n\tfor (var x=0; x < config.getTileWidth(); x++)\r\n\t{\r\n\t\tfor (var y=0; y < config.getTileHeight(); y++)\r\n\t\t{\r\n            switch(map[x][y]){\r\n                case 1:\r\n                    sprite = 1;\r\n                    break;\r\n                case 3:\r\n                    sprite = 3;\r\n                    break;\r\n                case 4:\r\n                    sprite = 4;\r\n                    break;\r\n                case 5:\r\n                    sprite = 5;\r\n                    break;\r\n                case 7:\r\n                    sprite = 7;\r\n                    break;\r\n            }\r\n            \r\n\t\t\tctx.drawImage(spritesheet,\r\n\t\t\tsprite*config.getWidth(), 0,\r\n\t\t\tconfig.getWidth(), config.getHeight(),\r\n\t\t\tx*config.getWidth(), y*config.getHeight(),\r\n\t\t\tconfig.getWidth(), config.getHeight());\r\n\r\n\t\t}\r\n    }\r\n}\r\n\r\nfunction spawnPackage(count){\r\n    let sprite = 2;\r\n    \r\n    for(var count; count > 0; count--){\r\n        let x = Math.floor(Math.random() * 16);\r\n        let y = Math.floor(Math.random() * 14);\r\n\r\n        redraw(sprite,x,y);\r\n    }\r\n}\r\n\r\nfunction spawnForklift(){\r\n    let sprite = 0;\r\n\r\n    let x = 15;\r\n    let y = 15;\r\n\r\n    redraw(sprite,x,y);\r\n}\r\n\r\nfunction redraw(sprite,x,y){\r\n    map[x][y] = sprite;\r\n\r\n    ctx.drawImage(spritesheet,\r\n    sprite*config.getWidth(), 0,\r\n    config.getWidth(), config.getHeight(),\r\n    x*config.getWidth(), y*config.getHeight(),\r\n    config.getWidth(), config.getHeight());\r\n}\r\n\r\ninit();\r\n\r\nconsole.log(map);"]}